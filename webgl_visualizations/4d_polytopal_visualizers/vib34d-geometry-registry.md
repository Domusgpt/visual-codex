
### VIB34D Geometry Registry - 4D Geometric Forms

*   **File Path:** `/mnt/c/Users/millz/!!prime!!VIB34D-STYLE/src/geometry/GeometryRegistry.js`
*   **Dependencies:** JavaScript (mathematical calculations)
*   **Visual Description:** This module is responsible for generating the raw 4D geometric data that the VIB34D visualizers render. It defines 8 distinct 4D geometry types, each with unique mathematical properties and visual characteristics. These geometries can be thought of as the "shapes" that are then projected, morphed, and colored by the shaders.
*   **Key Features & Effects (Geometric Definitions):**

    *   **8 Core Geometry Types:**
        *   **Hypercube:** (4D cube) - 16 vertices, 32 edges. Generated by iterating through binary combinations in 4 dimensions.
        *   **Tetrahedron:** (4D simplex) - 5 vertices, 10 edges. Vertices are defined and then connected.
        *   **Sphere:** (4D hypersphere) - Generated using 4D spherical coordinates, creating a parametric surface.
        *   **Torus:** (4D hypertorus) - Generated using a 4D torus parametrization, creating a dual revolution shape.
        *   **Klein Bottle:** (non-orientable 4D surface) - Generated using a specific Klein bottle parametrization, creating a complex, self-intersecting surface.
        *   **Fractal:** (self-similar 4D structure) - Generated by recursively subdividing a base tetrahedron, creating self-similar patterns.
        *   **Wave:** (4D wave function) - Generated by calculating a wave function in 4D space, creating dynamic, undulating patterns.
        *   **Crystal:** (4D crystalline lattice) - Generates lattice points based on cubic or diamond lattice vectors, creating structured, crystalline forms.
    *   **Mathematical Generators:** Each geometry type has a dedicated `generateX` method (e.g., `generateHypercube`, `generateTetrahedron`) that calculates the vertices, edges (indices), and initial colors for the 4D shape.
    *   **Morphing Capabilities:** The `createMorphingGeometry` method allows for linear interpolation between two different geometries, enabling smooth visual transitions between shapes.
    *   **Data Caching:** Caches generated geometries for performance optimization.
*   **Code Highlights:**

    *   **`generateHypercube` (4D Vertex Generation):**
        ```javascript
        generateHypercube(density = 8) {
            const vertices = [];
            // ...
            for (let x = 0; x < 2; x++) {
                for (let y = 0; y < 2; y++) {
                    for (let z = 0; z < 2; z++) {
                        for (let w = 0; w < 2; w++) {
                            vertices.push(
                                x * 2 - 1, // [-1, 1]
                                y * 2 - 1,
                                z * 2 - 1,
                                w * 2 - 1
                            );
                            // ...
                        }
                    }
                }
            }
            // ...
        }
        ```

    *   **`generateKleinBottle` (4D Parametrization):**
        ```javascript
        generateKleinBottle(density = 8) {
            const vertices = [];
            // ...
            for (let i = 0; i <= density; i++) {
                const u = (i / density) * this.mathConstants.TAU;
                for (let j = 0; j <= density; j++) {
                    const v = (j / density) * this.mathConstants.TAU;
                    // Klein bottle parametrization
                    const x = (2 + Math.cos(v/2) * Math.sin(u) - Math.sin(v/2) * Math.sin(2*u)) * Math.cos(v);
                    const y = (2 + Math.cos(v/2) * Math.sin(u) - Math.sin(v/2) * Math.sin(2*u)) * Math.sin(v);
                    const z = Math.sin(v/2) * Math.sin(u) + Math.cos(v/2) * Math.sin(2*u);
                    const w = Math.cos(u) * Math.sin(v/2);
                    vertices.push(x * 0.3, y * 0.3, z * 0.3, w * 0.3);
                    // ...
                }
            }
            // ...
        }
        ```
