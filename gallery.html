<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visual Codex Gallery - General MillZ VaporWave Collection</title>
    <style>
        :root {
            --neon-cyan: #00ffff;
            --neon-magenta: #ff00ff;
            --neon-yellow: #ffff00;
            --electric-blue: #0080ff;
            --hot-pink: #ff1088;
            --cyber-purple: #8000ff;
            --vaporwave-bg: #0a0a0f;
            --card-bg: rgba(16, 16, 32, 0.9);
            --glow-intensity: 0 0 20px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: #000;
            color: var(--neon-cyan);
            font-family: 'Courier New', monospace;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            margin: 0;
            padding: 0;
        }
        
        /* Evolving background canvas */
        #background-visualizer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -1;
            opacity: 0.3;
        }
        
        /* Snap scroll container */
        .snap-container {
            height: 100vh;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
            scroll-behavior: smooth;
            position: relative;
            /* Enhanced touch scroll support */
            -webkit-overflow-scrolling: touch;
            overscroll-behavior: contain;
        }
        
        /* Each snap section shows exactly 6 cards */
        .snap-section {
            height: 100vh;
            scroll-snap-align: start;
            scroll-snap-stop: always;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(2, 1fr);
            gap: 20px;
            padding: 40px;
            box-sizing: border-box;
            position: relative;
        }
        
        /* Card styling for snap layout */
        .snap-card {
            background: var(--card-bg);
            border: 2px solid var(--neon-cyan);
            border-radius: 15px;
            padding: 20px;
            position: relative;
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            box-shadow: var(--glow-intensity) var(--neon-cyan);
            /* Touch optimization */
            touch-action: manipulation;
            -webkit-tap-highlight-color: rgba(0, 255, 255, 0.1);
        }
        
        .snap-card:hover {
            transform: scale(1.05) translateZ(20px);
            box-shadow: 0 0 40px var(--neon-magenta);
            border-color: var(--neon-magenta);
        }
        
        /* Mobile-friendly hover alternative */
        @media (hover: none) {
            .snap-card:active {
                transform: scale(1.02) translateZ(10px);
                box-shadow: 0 0 20px var(--neon-magenta);
                border-color: var(--neon-magenta);
            }
        }
        
        .snap-card h3 {
            color: var(--neon-yellow);
            margin-bottom: 10px;
            font-size: 1.2em;
        }
        
        .snap-card p {
            color: var(--neon-cyan);
            font-size: 0.9em;
            line-height: 1.4;
            margin-bottom: 15px;
        }
        
        .snap-card .preview-frame {
            width: 100%;
            height: 200px;
            border: 1px solid var(--electric-blue);
            border-radius: 8px;
            background: rgba(0, 20, 40, 0.8);
            position: relative;
            overflow: hidden;
        }
        
        .snap-card iframe {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 8px;
        }
        
        header {
            text-align: center;
            padding: 3rem 2rem;
            position: relative;
            overflow: hidden;
        }
        
        h1 {
            font-size: 4rem;
            background: linear-gradient(45deg, var(--neon-cyan), var(--neon-magenta), var(--neon-yellow));
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 
                0 0 20px rgba(0, 255, 255, 0.8),
                0 0 40px rgba(255, 0, 255, 0.6),
                0 0 60px rgba(255, 255, 0, 0.4);
            margin-bottom: 1rem;
            animation: titleGlow 2s ease-in-out infinite alternate;
        }
        
        @keyframes titleGlow {
            from { 
                filter: drop-shadow(0 0 20px var(--neon-cyan)) brightness(1.2);
                transform: scale(1);
            }
            to { 
                filter: drop-shadow(0 0 40px var(--neon-magenta)) brightness(1.4);
                transform: scale(1.02);
            }
        }
        
        .subtitle {
            font-size: 1.5rem;
            color: var(--electric-blue);
            text-shadow: var(--glow-intensity) var(--electric-blue);
            margin-bottom: 2rem;
        }
        
        .filter-bar {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            padding: 0.8rem 1.5rem;
            background: var(--card-bg);
            border: 2px solid var(--neon-cyan);
            color: var(--neon-cyan);
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            position: relative;
            overflow: hidden;
        }
        
        .filter-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        .filter-btn:hover::before {
            left: 100%;
        }
        
        .filter-btn:hover,
        .filter-btn.active {
            background: rgba(0,255,255,0.2);
            box-shadow: 
                0 0 20px var(--neon-cyan),
                0 0 40px rgba(0, 255, 255, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            transform: translateY(-3px);
            border-color: var(--neon-magenta);
        }
        
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
            padding: 1.5rem;
            max-width: 1600px;
            margin: 0 auto;
        }
        
        /* Responsive grid layout */
        @media (max-width: 768px) {
            .gallery-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
                padding: 1rem;
            }
        }
        
        @media (min-width: 769px) and (max-width: 1200px) {
            .gallery-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (min-width: 1201px) {
            .gallery-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        .effect-card {
            background: var(--card-bg);
            border: 2px solid var(--neon-cyan);
            border-radius: 10px;
            overflow: hidden;
            transition: all 0.4s ease;
            position: relative;
            cursor: pointer;
            height: 600px;
            box-shadow: 
                0 5px 15px rgba(0, 255, 255, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            display: flex;
            flex-direction: row;
        }
        
        .effect-card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--neon-cyan), var(--neon-magenta), var(--neon-yellow), var(--electric-blue));
            border-radius: 12px;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        
        .effect-card:hover::before {
            opacity: 1;
            animation: borderPulse 1s ease-in-out infinite alternate;
        }
        
        @keyframes borderPulse {
            from { filter: blur(2px); }
            to { filter: blur(8px); }
        }
        
        .effect-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 
                0 25px 50px rgba(0,255,255,0.4),
                0 0 80px rgba(255,0,255,0.3),
                inset 0 2px 0 rgba(255, 255, 255, 0.2);
            border-color: var(--neon-magenta);
        }
        
        .effect-preview {
            flex: 2;
            background: #000;
            position: relative;
            overflow: hidden;
            border-right: 1px solid var(--neon-cyan);
            min-height: 100%;
        }
        
        .effect-info {
            flex: 1;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-width: 300px;
        }
        
        .effect-title {
            font-size: 1.5rem;
            color: var(--neon-magenta);
            margin-bottom: 1rem;
            text-shadow: var(--glow-intensity) var(--neon-magenta);
            font-weight: bold;
        }
        
        .effect-description {
            font-size: 1.1rem;
            color: var(--electric-blue);
            margin-bottom: 1.5rem;
            line-height: 1.6;
            flex-grow: 1;
        }
        
        .effect-tags {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .tag {
            background: rgba(255,0,255,0.2);
            color: var(--neon-yellow);
            padding: 0.2rem 0.6rem;
            border-radius: 20px;
            font-size: 0.7rem;
            border: 1px solid var(--neon-yellow);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .controls {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            gap: 5px;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 10; /* Ensure buttons are above other elements */
            pointer-events: auto; /* Ensure buttons are clickable */
        }
        
        .effect-card:hover .controls,
        .snap-card:hover .controls {
            opacity: 1;
        }
        
        /* Show controls on mobile touch */
        @media (hover: none) {
            .controls {
                opacity: 0.7; /* Always slightly visible on mobile */
            }
            .effect-card:active .controls,
            .snap-card:active .controls {
                opacity: 1;
            }
        }
        
        .control-btn {
            width: 30px;
            height: 30px;
            background: rgba(0,0,0,0.8);
            border: 1px solid var(--neon-cyan);
            color: var(--neon-cyan);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            transition: all 0.2s ease;
            /* Enhanced touch support */
            touch-action: manipulation;
            -webkit-tap-highlight-color: rgba(0, 255, 255, 0.3);
            min-width: 44px; /* iOS touch target requirement */
            min-height: 44px;
            border-radius: 5px;
        }
        
        .control-btn:hover {
            background: rgba(0,255,255,0.2);
            box-shadow: 0 0 10px var(--neon-cyan);
        }
        
        /* Demo effect styles for previews */
        .demo-hypercube {
            background: radial-gradient(circle, rgba(0,255,255,0.1) 0%, transparent 70%);
            position: relative;
        }
        
        .demo-hypercube::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100px;
            height: 100px;
            border: 2px solid var(--neon-cyan);
            transform: translate(-50%, -50%) rotateY(45deg) rotateX(45deg);
            animation: hypercubeRotate 4s linear infinite;
        }
        
        .demo-hypercube::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 80px;
            height: 80px;
            border: 2px solid var(--neon-magenta);
            transform: translate(-50%, -50%) rotateY(45deg) rotateX(45deg) translateZ(20px);
            animation: hypercubeRotate 4s linear infinite reverse;
        }
        
        @keyframes hypercubeRotate {
            from { transform: translate(-50%, -50%) rotateY(0deg) rotateX(0deg); }
            to { transform: translate(-50%, -50%) rotateY(360deg) rotateX(360deg); }
        }
        
        .demo-particles {
            background: radial-gradient(circle at 30% 30%, rgba(255,0,255,0.1) 0%, transparent 50%),
                        radial-gradient(circle at 70% 70%, rgba(0,255,255,0.1) 0%, transparent 50%);
        }
        
        .demo-particles::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(2px 2px at 20% 30%, var(--neon-cyan), transparent),
                radial-gradient(2px 2px at 80% 20%, var(--neon-magenta), transparent),
                radial-gradient(1px 1px at 40% 80%, var(--neon-yellow), transparent);
            animation: particleFlow 6s ease-in-out infinite;
        }
        
        @keyframes particleFlow {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-20px) scale(1.1); }
        }
        
        .demo-moire {
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 8px,
                rgba(0,255,255,0.1) 8px,
                rgba(0,255,255,0.1) 16px
            );
            position: relative;
        }
        
        .demo-moire::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 12px,
                rgba(255,0,255,0.1) 12px,
                rgba(255,0,255,0.1) 24px
            );
            animation: moireShift 8s linear infinite;
        }
        
        @keyframes moireShift {
            from { transform: translateX(0); }
            to { transform: translateX(24px); }
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            z-index: 1000;
            backdrop-filter: blur(10px);
        }
        
        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--card-bg);
            border: 2px solid var(--neon-cyan);
            border-radius: 10px;
            width: 90%;
            max-width: 1200px;
            height: 80%;
            display: flex;
            overflow: hidden;
        }
        
        .modal-preview {
            flex: 1;
            background: #000;
            position: relative;
        }
        
        .modal-info {
            width: 300px;
            padding: 2rem;
            overflow-y: auto;
            background: rgba(16, 16, 32, 0.95);
        }
        
        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background: rgba(0,0,0,0.8);
            border: 2px solid var(--neon-cyan);
            color: var(--neon-cyan);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            z-index: 1001;
        }
        
        @media (max-width: 768px) {
            .gallery-grid {
                grid-template-columns: 1fr;
                padding: 0 1rem;
            }
            
            h1 {
                font-size: 2.5rem;
            }
            
            .modal-content {
                flex-direction: column;
                height: 95%;
            }
            
            .modal-info {
                width: 100%;
                height: 200px;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>VISUAL CODEX</h1>
        <div class="subtitle">General MillZ VaporWave Effects Collection</div>
        
        <div id="server-status" style="background: rgba(255, 0, 0, 0.2); border: 2px solid #ff0080; padding: 1rem 2rem; margin: 0 auto 2rem; max-width: 800px; border-radius: 10px; text-align: center;">
            <h3 style="color: #ffff00; margin-bottom: 0.5rem;">‚ö†Ô∏è Server Required for Full Gallery</h3>
            <p style="margin-bottom: 1rem;">Visual effects need a local server to load properly.</p>
            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                <button onclick="checkServer()" style="background: rgba(0,255,255,0.2); border: 1px solid #00ffff; color: #00ffff; padding: 0.5rem 1rem; cursor: pointer; border-radius: 5px;">
                    üîÑ Check Server Status
                </button>
                <button onclick="showInstructions()" style="background: rgba(255,255,0,0.2); border: 1px solid #ffff00; color: #ffff00; padding: 0.5rem 1rem; cursor: pointer; border-radius: 5px;">
                    üìñ Show Instructions
                </button>
            </div>
        </div>
        
        <div class="filter-bar">
            <button class="filter-btn active" data-filter="all">ALL EFFECTS</button>
            <button class="filter-btn" data-filter="webgl">WebGL</button>
            <button class="filter-btn" data-filter="css">CSS</button>
            <button class="filter-btn" data-filter="canvas">Canvas</button>
            <button class="filter-btn" data-filter="4d">4D Math</button>
            <button class="filter-btn" data-filter="particles">Particles</button>
        </div>
    </header>
    
    <main class="gallery-grid" id="gallery">
        <!-- Effects will be populated by JavaScript -->
    </main>
    
    <div class="modal" id="modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal()">√ó</button>
            <div class="modal-preview" id="modalPreview">
                <!-- Full effect preview -->
            </div>
            <div class="modal-info" id="modalInfo">
                <!-- Effect details and controls -->
            </div>
        </div>
    </div>
    
    <script>
        const effects = [
            {
                id: 1,
                title: "üåå Active Holographic Systems - FIXED",
                description: "30 holographic variations displayed 3 at a time with tabs. Efficient loading, full 4D mathematics preserved.",
                tags: ["webgl", "4d", "holographic", "tabs"],
                interactive: ["mouse", "scroll", "touch", "keyboard"],
                file: "demos/active-holographic-systems-mega-demo.html",
                hasRealCode: true,
                status: "‚úÖ FIXED"
            },
            {
                id: 2,
                title: "üé≠ Narrative Choreography Engine - FIXED",
                description: "JSON-driven story transformations with sequential point animation. Fixed overlay issue.",
                tags: ["css", "scroll", "narrative"],
                interactive: ["scroll", "click"],
                file: "effects/narrative-choreography-engine.html",
                hasRealCode: true,
                status: "‚úÖ FIXED"
            },
            {
                id: 3,
                title: "üé® Enhanced Color Shift System - FIXED",
                description: "Advanced color manipulation with auto-mode functionality. Fixed initialization issue.",
                tags: ["css", "color", "interactive"],
                interactive: ["mouse", "auto"],
                file: "effects/enhanced-color-shift-contrast-system.html",
                hasRealCode: true,
                status: "‚úÖ FIXED"
            },
            {
                id: 4,
                title: "üìä Tabbed Visualizer System - FIXED",
                description: "Multi-tab visualization system with proper canvas initialization. Fixed tab switching.",
                tags: ["canvas", "tabs", "particles"],
                interactive: ["tabs", "click"],
                file: "effects/tabbed-visualizer-system.html",
                hasRealCode: true,
                status: "‚úÖ FIXED"
            },
            {
                id: 5,
                title: "üî• MVEP 4D Hypercube - ENHANCED",
                description: "Audio-reactive 4D hypercube with touch reactions, visual feedback, and multi-touch chaos.",
                tags: ["webgl", "4d", "audio", "touch"],
                interactive: ["mouse", "audio", "touch", "multi-touch"],
                file: "effects/mvep-moire-hypercube.html",
                hasRealCode: true,
                status: "‚úÖ ENHANCED"
            },
            {
                id: 6,
                title: "üñ•Ô∏è Working 4D HyperAV - OPTIMIZED",
                description: "Proven interaction systems with collapsible menus for all 4 control panels.",
                tags: ["webgl", "4d", "hyperav"],
                interactive: ["mouse", "scroll", "click", "keyboard"],
                file: "effects/working-4d-hyperav.html",
                hasRealCode: true,
                status: "‚úÖ OPTIMIZED"
            },
            {
                id: 7,
                title: "üÉè Morphing Glassmorphic Blog - 4TH WALL BREAKING",
                description: "Revolutionary card bending with 4th wall breaking effects - cards turn flat, stretch toward viewer, and explode out of screen.",
                tags: ["css", "3d", "glassmorphism", "4th-wall"],
                interactive: ["mouse", "click", "hover", "bend-controls"],
                file: "demos/morphing-glassmorphic-blog-demo.html",
                hasRealCode: true,
                status: "üß± 4TH WALL BREAKING"
            },
            {
                id: 8,
                title: "üíé Insane Hyperdimensional Matrix",
                description: "Mind-bending 8D+ visualizations with fractal tessellations and collapsible controls.",
                tags: ["webgl", "4d", "chaos"],
                interactive: ["mouse", "scroll"],
                file: "effects/insane-hyperdimensional-matrix.html",
                hasRealCode: true,
                status: "‚úÖ OPTIMIZED"
            },
            {
                id: 9,
                title: "üî¨ Hypercube Lattice Visualizer - EXPORT READY",
                description: "Lattice visualization with complete data export functionality and collapsible menu.",
                tags: ["webgl", "lattice", "export"],
                interactive: ["mouse", "parameters", "export"],
                file: "demos/hypercube-lattice-visualizer-demo.html",
                hasRealCode: true,
                status: "‚úÖ EXPORT READY"
            },
            {
                id: 10,
                title: "üéØ Moir√© Hypercube Codex - EXPORT READY",
                description: "Advanced moir√© patterns with complete parameter export and collapsible controls.",
                tags: ["webgl", "moire", "export"],
                interactive: ["mouse", "effects", "export"],
                file: "demos/moire-hypercube-codex-demo.html",
                hasRealCode: true,
                status: "‚úÖ EXPORT READY"
            },
            {
                id: 11,
                title: "üöÄ VIB34D Complete System",
                description: "Revolutionary 4D framework with enhanced interaction analysis and mobile optimization.",
                tags: ["webgl", "4d", "system"],
                interactive: ["mouse", "scroll", "click"],
                file: "effects/vib34d-complete-system-enhanced.html",
                hasRealCode: true,
                status: "‚úÖ OPTIMIZED"
            },
            {
                id: 12,
                title: "‚ö° HypercubeCore WebGL Framework",
                description: "High-performance shader system with collapsible interface and 8 unified 4D geometries.",
                tags: ["webgl", "framework", "4d"],
                interactive: ["mouse", "geometry-swap"],
                file: "effects/hypercube-core-webgl-framework.html",
                hasRealCode: true,
                status: "‚úÖ OPTIMIZED"
            }
        ];
        
        // Additional demos (keeping for reference but focusing on fixed demos)
        const additionalEffects = [
            {
                id: 13,
                title: "VIB3CODE - Digital Sovereignty Magazine",
                description: "Cyberpunk digital magazine with full-page WebGL visualizer background and mouse-reactive 3D transforms on cards.",
                tags: ["webgl", "ui", "cyberpunk", "magazine"],
                interactive: ["mouse", "scroll"],
                file: "demos/vib3code-digital-magazine-demo.html",
                hasRealCode: true
            },
            {
                id: 14,
                title: "VIB34D Morphing Blog - Integrated System",
                description: "Interactive blog with 4D hypercube navigation, dynamic content, and layered WebGL visualizers.",
                tags: ["webgl", "4d", "blog", "ui"],
                interactive: ["mouse", "scroll", "keyboard", "click"],
                file: "demos/vib34d-morphing-blog-demo.html",
                hasRealCode: true
            },
            {
                id: 15,
                title: "MillzMaleficarum Codex v0.7",
                description: "Multi-section digital magazine with dimensional worlds, reality distortion, and quantum states.",
                tags: ["webgl", "4d", "distortion", "magazine"],
                interactive: ["mouse", "scroll", "click"],
                file: "demos/millzmaleficarum-codex-demo.html",
                hasRealCode: true
            },
            {
                id: 16,
                title: "VIB34D Preset Database",
                description: "Customizable visual configurations for VIB34D system, including various 4D geometries and effects.",
                tags: ["system", "configuration", "presets"],
                interactive: ["none"],
                file: "core_documentation/vib34d-preset-database.md",
                hasRealCode: false
            },
            {
                id: 17,
                title: "VIB34D Interaction Coordinator",
                description: "Translates user inputs (mouse, keyboard, touch, scroll) into dynamic visual changes for 4D geometries.",
                tags: ["system", "interaction", "control"],
                interactive: ["all"],
                file: "interactive_ui_components/mouse_scroll_keyboard_reactive_elements/vib34d-interaction-coordinator.md",
                hasRealCode: false
            },
            {
                id: 18,
                title: "VIB34D System - Core Architecture",
                description: "Robust framework for dynamic, data-driven visualizations, managing multiple visualizer instances and event routing.",
                tags: ["system", "architecture", "framework"],
                interactive: ["none"],
                file: "/mnt/c/Users/millz/visual_codex/core_documentation/vib34d-system-core-architecture.md",
                hasRealCode: false
            },
            {
                id: 19,
                title: "Hypercube Lattice Applications UI & Effects",
                description: "Cyberpunk/vaporwave UI with neon colors, custom sliders, toggle switches, and interactive buttons.",
                tags: ["ui", "css", "cyberpunk"],
                interactive: ["hover", "click"],
                file: "/mnt/c/Users/millz/visual_codex/interactive_ui_components/custom_controls/hypercube-lattice-app-ui.md",
                hasRealCode: false
            },
            {
                id: 20,
                title: "Hypercube Lattice WebGL Visualizer",
                description: "Customizable WebGL visualizer rendering 4D hypercube lattice with morphing, RGB glitching, and moir√© patterns.",
                tags: ["webgl", "4d", "moire", "glitch"],
                interactive: ["mouse", "sliders"],
                file: "demos/hypercube-lattice-visualizer-demo.html",
                hasRealCode: true
            },
            {
                id: 21,
                title: "VIB3CODE - Reactive HyperAV Core Codex",
                description: "Full-screen, reactive WebGL visualizer morphing between 4D geometric forms based on user interaction and scroll.",
                tags: ["webgl", "4d", "reactive", "ui"],
                interactive: ["mouse", "scroll", "click", "keyboard"],
                file: "demos/vib3code-reactive-core-demo.html",
                hasRealCode: true
            },
            {
                id: 22,
                title: "Moir√© Hypercube Codex",
                description: "WebGL-based animation with morphing lattice grids, hypercube projections, RGB color splitting, and moir√© glitch effects.",
                tags: ["webgl", "4d", "moire", "glitch"],
                interactive: ["mouse", "sliders"],
                file: "demos/moire-hypercube-codex-demo.html",
                hasRealCode: true
            },
            {
                id: 23,
                title: "CSS Glassmorphism & Holographic UI",
                description: "Pure CSS glassmorphism effects with backdrop-filter blur, holographic buttons, morphing shapes, and floating particles.",
                tags: ["css", "glassmorphism", "holographic", "ui"],
                interactive: ["hover", "click", "morph"],
                file: "demos/css-glassmorphism-demo.html",
                hasRealCode: true
            },
            {
                id: 24,
                title: "CSS Cyberpunk UI Effects",
                description: "Advanced cyberpunk interface with scan lines, glitch text effects, holographic cards, and terminal interfaces.",
                tags: ["css", "cyberpunk", "ui", "glitch"],
                interactive: ["hover", "click", "glitch"],
                file: "demos/css-cyberpunk-ui-demo.html",
                hasRealCode: true
            },
            {
                id: 25,
                title: "CSS Glitch Effects",
                description: "Comprehensive glitch demonstrations with RGB channel separation, digital noise, corruption effects, and matrix rain.",
                tags: ["css", "glitch", "effects", "distortion"],
                interactive: ["hover", "click", "corruption"],
                file: "demos/css-glitch-effects-demo.html",
                hasRealCode: true
            },
            {
                id: 26,
                title: "CSS Vaporwave Aesthetics",
                description: "Retro synthwave styling with animated perspective grids, neon effects, holographic cards, and palm tree silhouettes.",
                tags: ["css", "vaporwave", "retro", "synthwave"],
                interactive: ["hover", "click", "glow"],
                file: "demos/css-vaporwave-aesthetics-demo.html",
                hasRealCode: true
            },
            {
                id: 27,
                title: "VIB34D Production Spectacular",
                description: "Ultimate 4D hyperdimensional system with immersive full-screen grid, holographic HUD, and hypercube face transforms.",
                tags: ["webgl", "4d", "holographic", "immersive"],
                interactive: ["mouse", "hover", "focus"],
                file: "demos/vib34d-production-spectacular-demo.html",
                hasRealCode: true
            },
            {
                id: 28,
                title: "VIB34D Editor Dashboard",
                description: "Professional reactive UI builder with glowing toolbar, element library, and grid-based component system.",
                tags: ["ui", "editor", "dashboard", "reactive"],
                interactive: ["hover", "click", "drag"],
                file: "demos/vib34d-editor-dashboard-demo.html",
                hasRealCode: true
            },
            {
                id: 29,
                title: "VIB3CODE Reactive Core Magazine",
                description: "Magazine-style layout with full-screen HyperAV canvas, backdrop blur effects, and theme-specific styling.",
                tags: ["webgl", "magazine", "reactive", "glassmorphism"],
                interactive: ["mouse", "scroll", "theme"],
                file: "demos/vib3code-reactive-core-demo.html",
                hasRealCode: true
            },
            {
                id: 30,
                title: "VIB34D Adaptive Card System",
                description: "Responsive card framework with hover transforms, gradient effects, and visualizer integration containers.",
                tags: ["ui", "cards", "adaptive", "responsive"],
                interactive: ["hover", "responsive", "grid"],
                file: "demos/vib34d-adaptive-cards-demo.html",
                hasRealCode: true
            },
            {
                id: 31,
                title: "Neoskeuomorphic Cards",
                description: "Advanced neoskeuomorphic card styling with multi-layer shadows, 3D transforms, and holographic buttons.",
                tags: ["css", "neoskeuomorphic", "cards", "3d"],
                interactive: ["hover", "click", "transform"],
                file: "demos/neoskeuomorphic-cards-demo.html",
                hasRealCode: true
            },
            {
                id: 32,
                title: "Holographic Depth Layers",
                description: "4-layer depth system with perspective controls, interactive elements, and dynamic 3D positioning.",
                tags: ["css", "3d", "layers", "holographic"],
                interactive: ["mouse", "perspective", "layers"],
                file: "demos/holographic-depth-layers-demo.html",
                hasRealCode: true
            },
            {
                id: 33,
                title: "Animated Grid Overlays",
                description: "Interactive holographic grid system with multiple pattern variations, pulsing animations, and dynamic shifting effects.",
                tags: ["css", "grid", "animation", "patterns"],
                interactive: ["mouse", "patterns", "intensity"],
                file: "demos/animated-grid-overlay-demo.html",
                hasRealCode: true
            },
            {
                id: 34,
                title: "Holographic Progress Indicators",
                description: "4 types of progress indicators: vertical scroll, circular ring, horizontal bars, and segmented progress with animations.",
                tags: ["css", "progress", "holographic", "ui"],
                interactive: ["animation", "controls", "randomize"],
                file: "demos/holographic-progress-indicators-demo.html",
                hasRealCode: true
            },
            {
                id: 35,
                title: "State Control Dots",
                description: "Interactive state management dots with gradient effects: layout states, navigation, progress, and status indicators.",
                tags: ["css", "ui", "controls", "state"],
                interactive: ["click", "state", "navigation"],
                file: "demos/state-control-dots-demo.html",
                hasRealCode: true
            },
            {
                id: 36,
                title: "Chaos Overlay Effects",
                description: "Advanced interference patterns and digital chaos effects: basic, complex, glitch, digital rain, and interference patterns.",
                tags: ["css", "chaos", "glitch", "interference"],
                interactive: ["keyboard", "mouse", "patterns"],
                file: "demos/chaos-overlay-effects-demo.html",
                hasRealCode: true
            },
            {
                id: 37,
                title: "Holographic Parallax Systems Mega",
                description: "35 unique holographic parallax variations with multi-layer blend modes, click for random colors/zoom, mouse parallax, scroll rotation.",
                tags: ["css", "parallax", "holographic", "mega", "interactive"],
                interactive: ["click", "mouse", "scroll", "random"],
                file: "demos/holographic-parallax-systems-mega-demo.html",
                hasRealCode: true
            },
            {
                id: 38,
                title: "TECH LAYOUT - Active Holographic System",
                description: "Exact recreation of NEOSKEUOMORPHIC TECH layout with 13 multi-canvas WebGL visualizers, translucent layers, constant movement, congruent user input reactivity.",
                tags: ["webgl", "active", "holographic", "tech", "multi-canvas"],
                interactive: ["mouse", "click", "constant-movement", "depth-layers"],
                file: "demos/tech-layout-active-holographic-demo.html",
                hasRealCode: true
            },
            {
                id: 39,
                title: "Active Holographic Systems Mega",
                description: "25 WebGL variations with 125 total visualizers (5 layers each): hypercube, tetrahedron, sphere, torus, wave, crystal, spiral, fractal patterns with constant movement and reactive input.",
                tags: ["webgl", "active", "holographic", "mega", "multi-canvas", "125-visualizers"],
                interactive: ["mouse", "click", "constant-movement", "presentation-mode", "depth-layers"],
                file: "demos/active-holographic-systems-mega-demo.html",
                hasRealCode: true
            }
        ];
        
        let currentFilter = 'all';
        
        function renderGallery() {
            const gallery = document.getElementById('gallery');
            gallery.innerHTML = '';
            
            const filteredEffects = currentFilter === 'all' 
                ? effects 
                : effects.filter(effect => effect.tags.includes(currentFilter));
            
            filteredEffects.forEach(effect => {
                const card = document.createElement('div');
                card.className = 'effect-card';
                card.onclick = () => openModal(effect);
                
                const previewContent = effect.hasRealCode ? 
                    `<div class="click-to-view" data-src="${effect.file}" style="width: 100%; height: 100%; background: linear-gradient(45deg, #0a0a0f, #1a0033); display: flex; align-items: center; justify-content: center; color: #00ffff; font-family: monospace; cursor: pointer; transition: all 0.3s ease;" onclick="window.open('${effect.file}', '_blank')">
                        <div style="text-align: center;">
                            <div style="font-size: 3rem; margin-bottom: 1rem; filter: drop-shadow(0 0 20px #00ffff);">üöÄ</div>
                            <div style="font-size: 1.2rem; margin-bottom: 0.5rem; font-weight: bold;">Click to View</div>
                            <div style="font-size: 1rem; margin-bottom: 1rem;">${effect.title}</div>
                            <div style="font-size: 0.8rem; opacity: 0.7;">Opens in new tab</div>
                        </div>
                    </div>` :
                    `<div class="${effect.demoClass || 'demo-particles'}" style="width: 100%; height: 100%;"></div>`;
                
                const badge = effect.hasRealCode ? 
                    '<div style="position: absolute; top: 5px; left: 5px; background: rgba(0,255,0,0.8); color: #000; padding: 2px 6px; font-size: 10px; font-weight: bold;">LIVE</div>' :
                    '<div style="position: absolute; top: 5px; left: 5px; background: rgba(255,255,0,0.8); color: #000; padding: 2px 6px; font-size: 10px; font-weight: bold;">DEMO</div>';
                
                card.innerHTML = `
                    <div class="effect-preview" style="position: relative;">
                        ${previewContent}
                        ${badge}
                        <div class="controls">
                            <button class="control-btn" title="Fullscreen" onclick="handleControlClick(event, 'fullscreen', '${effect.file || ''}')">‚õ∂</button>
                            <button class="control-btn" title="Code" onclick="handleControlClick(event, 'code', '${effect.file || ''}')'>{ }</button>
                            <button class="control-btn" title="Settings" onclick="handleControlClick(event, 'settings', '${effect.file || ''}')">‚öô</button>
                        </div>
                    </div>
                    <div class="effect-info">
                        <div class="effect-title">${effect.title}</div>
                        <div class="effect-description">${effect.description}</div>
                        <div class="effect-tags">
                            ${effect.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                            ${effect.interactive.map(input => `<span class="tag" style="background: rgba(0,255,255,0.2); border-color: var(--neon-cyan);">${input}</span>`).join('')}
                        </div>
                    </div>
                `;
                
                gallery.appendChild(card);
            });
        }
        
        function setFilter(filter) {
            currentFilter = filter;
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.filter === filter);
            });
            renderGallery();
        }
        
        function openModal(effect) {
            const modal = document.getElementById('modal');
            const modalPreview = document.getElementById('modalPreview');
            const modalInfo = document.getElementById('modalInfo');
            
            // Use real code iframe or demo class
            if (effect.hasRealCode && effect.file) {
                modalPreview.innerHTML = `<iframe src="${effect.file}" style="width: 100%; height: 100%; border: none; background: #000;"></iframe>`;
            } else {
                modalPreview.className = `modal-preview ${effect.demoClass}`;
                modalPreview.innerHTML = '';
            }
            
            const codeStatus = effect.hasRealCode ? 
                '<span style="color: #00ff00; font-weight: bold;">[LIVE CODE]</span>' :
                '<span style="color: #ffff00; font-weight: bold;">[DEMO PREVIEW]</span>';
            
            modalInfo.innerHTML = `
                <h2 style="color: var(--neon-magenta); margin-bottom: 1rem;">${effect.title} ${codeStatus}</h2>
                <p style="margin-bottom: 1rem;">${effect.description}</p>
                
                <h3 style="color: var(--neon-cyan); margin-bottom: 0.5rem;">Interactive Controls:</h3>
                <ul style="margin-bottom: 1rem; list-style: none;">
                    ${effect.interactive.map(input => `<li style="margin-bottom: 0.3rem;">‚ñ∏ ${input.toUpperCase()}</li>`).join('')}
                </ul>
                
                <h3 style="color: var(--neon-cyan); margin-bottom: 0.5rem;">Technology:</h3>
                <div style="margin-bottom: 1rem;">
                    ${effect.tags.map(tag => `<span class="tag">${tag}</span>`).join(' ')}
                </div>
                
                ${effect.hasRealCode ? `
                    <h3 style="color: var(--neon-cyan); margin-bottom: 0.5rem;">Source File:</h3>
                    <div style="background: rgba(0,0,0,0.5); padding: 10px; margin-bottom: 1rem; font-family: monospace; color: #00ffff;">
                        ${effect.file}
                    </div>
                    
                    <button onclick="window.open('${effect.file}', '_blank')" style="background: var(--card-bg); border: 1px solid var(--neon-cyan); color: var(--neon-cyan); padding: 0.5rem 1rem; cursor: pointer; width: 100%; margin-bottom: 10px;">
                        Open in New Tab
                    </button>
                ` : ''}
                
                <button style="background: var(--card-bg); border: 1px solid var(--neon-cyan); color: var(--neon-cyan); padding: 0.5rem 1rem; cursor: pointer; width: 100%;">
                    ${effect.hasRealCode ? 'View Source Code' : 'Implementation Notes'}
                </button>
            `;
            
            modal.style.display = 'block';
        }
        
        function openFullscreen(file) {
            if (file) {
                window.open(file, '_blank');
            }
        }
        
        // Enhanced control click handler with touch support
        function handleControlClick(event, action, file) {
            // Prevent event from bubbling to card click
            event.stopPropagation();
            event.preventDefault();
            
            // Add visual feedback for touch
            const button = event.target;
            button.style.transform = 'scale(0.95)';
            setTimeout(() => {
                button.style.transform = 'scale(1)';
            }, 100);
            
            // Handle different actions
            switch(action) {
                case 'fullscreen':
                    if (file) {
                        window.open(file, '_blank');
                    }
                    break;
                case 'code':
                    // Future: Show code view
                    console.log('Code view for:', file);
                    break;
                case 'settings':
                    // Future: Show settings panel
                    console.log('Settings for:', file);
                    break;
                default:
                    console.log('Unknown action:', action);
            }
        }
        
        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }
        
        // Initialize
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.onclick = () => setFilter(btn.dataset.filter);
        });
        
        // Close modal on escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeModal();
        });
        
        // Close modal on background click
        document.getElementById('modal').onclick = (e) => {
            if (e.target.id === 'modal') closeModal();
        };
        
        // Add mouse tracking for interactive previews
        document.addEventListener('mousemove', (e) => {
            const cards = document.querySelectorAll('.effect-preview');
            cards.forEach(card => {
                const rect = card.getBoundingClientRect();
                const x = (e.clientX - rect.left) / rect.width;
                const y = (e.clientY - rect.top) / rect.height;
                
                if (x >= 0 && x <= 1 && y >= 0 && y <= 1) {
                    card.style.setProperty('--mouse-x', x);
                    card.style.setProperty('--mouse-y', y);
                }
            });
        });
        
        renderGallery();
        
        // WebGL Context Pool Manager
        class WebGLContextPool {
            constructor(maxContexts = 6) {
                this.maxContexts = maxContexts;
                this.activeContexts = new Map(); // cardElement -> iframe
                this.loadQueue = [];
                this.isProcessing = false;
                
                console.log(`üéØ WebGL Context Pool initialized: Max ${maxContexts} contexts`);
            }
            
            addToQueue(cardElement, src) {
                if (this.activeContexts.has(cardElement)) {
                    console.log('‚ö†Ô∏è Context already active for card');
                    return;
                }
                
                this.loadQueue.push({ cardElement, src });
                console.log(`üìã Added to queue: ${this.loadQueue.length} pending, ${this.activeContexts.size} active`);
                this.processQueue();
            }
            
            processQueue() {
                if (this.isProcessing || this.loadQueue.length === 0) return;
                if (this.activeContexts.size >= this.maxContexts) {
                    console.log(`üö´ Context limit reached (${this.maxContexts}), waiting for cleanup`);
                    return;
                }
                
                this.isProcessing = true;
                const { cardElement, src } = this.loadQueue.shift();
                
                console.log(`üöÄ Loading context ${this.activeContexts.size + 1}/${this.maxContexts}`);
                this.loadIframe(cardElement, src);
                
                setTimeout(() => {
                    this.isProcessing = false;
                    this.processQueue(); // Process next in queue
                }, 500); // Small delay between loads
            }
            
            loadIframe(cardElement, src) {
                const lazyIframe = cardElement.querySelector('.lazy-iframe');
                if (!lazyIframe) return;
                
                const iframe = document.createElement('iframe');
                iframe.src = src;
                iframe.style.cssText = 'width: 100%; height: 100%; border: none; background: #000;';
                iframe.sandbox = 'allow-scripts allow-same-origin';
                
                lazyIframe.style.background = '#000';
                lazyIframe.innerHTML = `
                    <div style="color: #00ffff; text-align: center; padding: 20px; font-family: monospace;">
                        <div style="font-size: 1.5rem; margin-bottom: 1rem;">‚ö°</div>
                        <div>Loading WebGL Context ${this.activeContexts.size + 1}/${this.maxContexts}...</div>
                        <div style="font-size: 0.8rem; margin-top: 0.5rem; opacity: 0.7;">Queue: ${this.loadQueue.length} waiting</div>
                    </div>
                `;
                
                // Set up load and error handlers before setting src
                iframe.onload = () => {
                    console.log(`‚úÖ Iframe loaded: ${src}`);
                    lazyIframe.innerHTML = '';
                    lazyIframe.appendChild(iframe);
                    this.activeContexts.set(cardElement, iframe);
                    console.log(`‚úÖ Context loaded successfully: ${this.activeContexts.size}/${this.maxContexts} active`);
                };
                
                iframe.onerror = () => {
                    console.log(`‚ùå Iframe failed to load: ${src}`);
                    lazyIframe.innerHTML = `
                        <div style="color: #ff0080; text-align: center; padding: 20px; font-family: monospace;">
                            <div style="font-size: 1.5rem; margin-bottom: 1rem;">‚ö†Ô∏è</div>
                            <div>Preview unavailable</div>
                            <div style="font-size: 0.8rem; margin-top: 0.5rem;">CORS or loading error</div>
                            <button onclick="window.open('${src}', '_blank')" 
                                    style="margin-top: 1rem; padding: 0.5rem 1rem; background: rgba(0,255,255,0.2); border: 1px solid #00ffff; color: #00ffff; cursor: pointer;">
                                Open Direct
                            </button>
                        </div>
                    `;
                };
                
                // Add timeout fallback
                const timeout = setTimeout(() => {
                    if (!iframe.contentDocument) {
                        console.log(`‚è∞ Iframe load timeout: ${src}`);
                        iframe.onerror();
                    }
                }, 10000); // 10 second timeout
                
                iframe.addEventListener('load', () => clearTimeout(timeout));
            }
            
            cleanupContext(cardElement) {
                if (this.activeContexts.has(cardElement)) {
                    const iframe = this.activeContexts.get(cardElement);
                    
                    // Replace iframe with placeholder
                    const lazyIframe = cardElement.querySelector('.lazy-iframe');
                    if (lazyIframe) {
                        const effectTitle = cardElement.querySelector('.effect-title')?.textContent || 'Effect';
                        lazyIframe.innerHTML = `
                            <div style="color: #00ffff; text-align: center; padding: 20px; font-family: monospace;">
                                <div style="font-size: 1.5rem; margin-bottom: 1rem;">üí§</div>
                                <div>Context Cleaned Up</div>
                                <div style="font-size: 0.8rem; margin-top: 0.5rem; opacity: 0.7;">Scroll back to reload</div>
                            </div>
                        `;
                        
                        // Restore data-src for potential reload
                        lazyIframe.dataset.src = iframe.src;
                    }
                    
                    // Remove iframe and context
                    iframe.remove();
                    this.activeContexts.delete(cardElement);
                    
                    console.log(`üßπ Context cleaned up: ${this.activeContexts.size}/${this.maxContexts} active, ${this.loadQueue.length} in queue`);
                    
                    // Process queue after cleanup
                    setTimeout(() => this.processQueue(), 100);
                }
            }
            
            getStatus() {
                return {
                    active: this.activeContexts.size,
                    max: this.maxContexts,
                    queue: this.loadQueue.length,
                    available: this.maxContexts - this.activeContexts.size
                };
            }
        }
        
        // Initialize context pool
        const contextPool = new WebGLContextPool(6);
        
        // Enhanced Intersection Observer with auto-cleanup
        const loadObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const lazyIframe = entry.target.querySelector('.lazy-iframe');
                    if (lazyIframe && lazyIframe.dataset.src) {
                        console.log(`üîç Card intersecting, adding to queue: ${lazyIframe.dataset.src}`);
                        // Add to queue instead of immediate load
                        contextPool.addToQueue(entry.target, lazyIframe.dataset.src);
                        delete lazyIframe.dataset.src; // Prevent re-adding to queue
                    } else {
                        console.log('‚ö†Ô∏è Card intersecting but no data-src found');
                    }
                }
            });
        }, {
            rootMargin: '100px', // Reduced margin for more precise triggering
            threshold: 0.1 // Trigger when 10% of card is visible
        });
        
        // Cleanup observer - more aggressive cleanup
        const cleanupObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (!entry.isIntersecting) {
                    // Card is out of view, cleanup its context
                    contextPool.cleanupContext(entry.target);
                }
            });
        }, {
            rootMargin: '-100px' // Cleanup when card is well out of view
        });
        
        // Observe all effect cards for loading and cleanup
        function observeCards() {
            document.querySelectorAll('.effect-card').forEach(card => {
                loadObserver.observe(card);    // For lazy loading
                cleanupObserver.observe(card); // For auto-cleanup
            });
        }
        
        // Re-observe when gallery is re-rendered
        const originalRenderGallery = renderGallery;
        renderGallery = function() {
            originalRenderGallery();
            setTimeout(observeCards, 100);
        };
        
        // Initial observation
        setTimeout(observeCards, 100);
        
        // Add status display and debugging
        function addContextStatusDisplay() {
            const statusDiv = document.createElement('div');
            statusDiv.id = 'context-status';
            statusDiv.style.cssText = `
                position: fixed;
                bottom: 20px;
                left: 20px;
                background: rgba(0, 0, 0, 0.9);
                color: #00ffff;
                padding: 10px 15px;
                border: 1px solid #00ffff;
                border-radius: 8px;
                font-family: 'JetBrains Mono', monospace;
                font-size: 0.8rem;
                z-index: 1000;
                backdrop-filter: blur(10px);
            `;
            document.body.appendChild(statusDiv);
            
            // Update status every second
            setInterval(() => {
                const status = contextPool.getStatus();
                statusDiv.innerHTML = `
                    üéØ WebGL Pool: ${status.active}/${status.max} active<br>
                    üìã Queue: ${status.queue} waiting<br>
                    ‚úÖ Available: ${status.available} slots
                `;
            }, 1000);
        }
        
        // Add debug status display
        setTimeout(addContextStatusDisplay, 1000);
        
        // Server status and instructions
        function checkServer() {
            const serverStatus = document.getElementById('server-status');
            
            // Test if we can fetch a file to check if server is running
            fetch('./gallery.html')
                .then(response => {
                    if (response.ok) {
                        serverStatus.innerHTML = `
                            <h3 style="color: #00ff00; margin-bottom: 0.5rem;">‚úÖ Server Running!</h3>
                            <p>All visual effects should load properly. Scroll down to see them!</p>
                        `;
                        serverStatus.style.background = 'rgba(0, 255, 0, 0.2)';
                        serverStatus.style.borderColor = '#00ff00';
                        
                        // Hide status after 3 seconds
                        setTimeout(() => {
                            serverStatus.style.display = 'none';
                        }, 3000);
                    }
                })
                .catch(() => {
                    serverStatus.innerHTML = `
                        <h3 style="color: #ff0080; margin-bottom: 0.5rem;">‚ùå No Server Detected</h3>
                        <p style="margin-bottom: 1rem;">Visual effects will not load without a local server.</p>
                        <button onclick="showInstructions()" style="background: rgba(255,255,0,0.2); border: 1px solid #ffff00; color: #ffff00; padding: 0.5rem 1rem; cursor: pointer; border-radius: 5px;">
                            üìñ Show Setup Instructions
                        </button>
                    `;
                });
        }
        
        function showInstructions() {
            const serverStatus = document.getElementById('server-status');
            serverStatus.innerHTML = `
                <h3 style="color: #00ffff; margin-bottom: 1rem;">üöÄ Start Local Server</h3>
                <div style="text-align: left; max-width: 600px; margin: 0 auto;">
                    <p style="margin-bottom: 1rem;"><strong>Option 1 - Python (Recommended):</strong></p>
                    <code style="display: block; background: #000; padding: 10px; margin-bottom: 1rem; border-radius: 5px;">
                        cd /mnt/c/Users/millz/visual_codex<br>
                        python3 start-gallery.py
                    </code>
                    
                    <p style="margin-bottom: 1rem;"><strong>Option 2 - Simple Python Server:</strong></p>
                    <code style="display: block; background: #000; padding: 10px; margin-bottom: 1rem; border-radius: 5px;">
                        cd /mnt/c/Users/millz/visual_codex<br>
                        python3 -m http.server 8080
                    </code>
                    
                    <p style="margin-bottom: 1rem;"><strong>Option 3 - Windows Batch:</strong></p>
                    <code style="display: block; background: #000; padding: 10px; margin-bottom: 1rem; border-radius: 5px;">
                        Double-click: start-gallery.bat
                    </code>
                    
                    <p style="margin-bottom: 1rem;">Then visit: <strong>http://localhost:8080/gallery.html</strong></p>
                </div>
                <button onclick="checkServer()" style="background: rgba(0,255,255,0.2); border: 1px solid #00ffff; color: #00ffff; padding: 0.5rem 1rem; cursor: pointer; border-radius: 5px; margin-top: 1rem;">
                    üîÑ Recheck Server
                </button>
            `;
        }
        
        // Auto-check server status on load
        setTimeout(checkServer, 1000);
    </script>
</body>
</html>